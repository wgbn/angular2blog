System.register(["angular2/core","../service/post","../service/login"],function(t,e){"use strict";var o,n,r,i,s=(e&&e.id,this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}),c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};return{setters:[function(t){o=t},function(t){n=t},function(t){r=t}],execute:function(){i=function(){function t(t,e){this._postService=t,this._loginService=e,this.showLoading=!1,this.loadAllPosts()}return t.prototype.loadAllPosts=function(){var t=this;this.showLoading=!0,this._postService.getPosts().subscribe(function(e){return t.onLoadAllPostsResult(e)},function(t){return console.log(t)})},t.prototype.onLoadAllPostsResult=function(t){console.log(t),this.posts=t,this.showLoading=!1},t.prototype.logout=function(t){this._loginService.logout()},t.prototype.checkPost=function(t){try{return null!=t.user&&(!!this._loginService.isLogged()&&t.user._id==this._loginService.getUser()._id)}catch(e){return!1}return!1},t.prototype.deletePost=function(t){var e=this;this._postService["delete"](t).subscribe(function(t){return e.onDeletePostResult(t)},function(t){return e.onDeletePostError(t)})},t.prototype.onDeletePostResult=function(t){this.loadAllPosts()},t.prototype.onDeletePostError=function(t){console.log(t)},t=s([o.Component({providers:[n.PostService],templateUrl:"homeComponent.html"}),c("design:paramtypes",[n.PostService,r.LoginService])],t)}(),t("HomeComponent",i)}}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudC9ob21lLmpzIl0sIm5hbWVzIjpbIlN5c3RlbSIsInJlZ2lzdGVyIiwiZXhwb3J0c18xIiwiY29udGV4dF8xIiwiY29yZV8xIiwicG9zdF8xIiwibG9naW5fMSIsIkhvbWVDb21wb25lbnQiLCJfX2RlY29yYXRlIiwiaWQiLCJ0aGlzIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJkIiwiYyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJfX21ldGFkYXRhIiwiayIsInYiLCJtZXRhZGF0YSIsInNldHRlcnMiLCJjb3JlXzFfMSIsInBvc3RfMV8xIiwibG9naW5fMV8xIiwiZXhlY3V0ZSIsIl9wb3N0U2VydmljZSIsIl9sb2dpblNlcnZpY2UiLCJzaG93TG9hZGluZyIsImxvYWRBbGxQb3N0cyIsInByb3RvdHlwZSIsIl90aGlzIiwiZ2V0UG9zdHMiLCJzdWJzY3JpYmUiLCJwIiwib25Mb2FkQWxsUG9zdHNSZXN1bHQiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicG9zdHMiLCJsb2dvdXQiLCJldmVudCIsImNoZWNrUG9zdCIsInVzZXIiLCJpc0xvZ2dlZCIsIl9pZCIsImdldFVzZXIiLCJlcnJvciIsImRlbGV0ZVBvc3QiLCJyZXN1bHQiLCJvbkRlbGV0ZVBvc3RSZXN1bHQiLCJvbkRlbGV0ZVBvc3RFcnJvciIsIkNvbXBvbmVudCIsInByb3ZpZGVycyIsIlBvc3RTZXJ2aWNlIiwidGVtcGxhdGVVcmwiLCJMb2dpblNlcnZpY2UiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxVQUFVLGdCQUFpQixrQkFBbUIsb0JBQXFCLFNBQVNDLEVBQVdDLEdBQzFGLFlBQ0EsSUFVSUMsR0FBUUMsRUFBUUMsRUFDaEJDLEVBVkFDLEdBRGVMLEdBQWFBLEVBQVVNLEdBQ3hCQyxNQUFRQSxLQUFLRixZQUFlLFNBQVVHLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBT00sT0FBT0MseUJBQXlCVCxFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWlEsVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkosRUFBSUcsUUFBUUMsU0FBU1osRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJVSxHQUFJYixFQUFXTyxPQUFTLEVBQUdNLEdBQUssRUFBR0EsS0FBU1QsRUFBSUosRUFBV2EsTUFBSUwsR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS0MsT0FBT0ssZUFBZWIsRUFBUUMsRUFBS00sR0FBSUEsSUFFNURPLEVBQWNoQixNQUFRQSxLQUFLZ0IsWUFBZSxTQUFVQyxFQUFHQyxHQUN2RCxHQUF1QixnQkFBWk4sVUFBb0Qsa0JBQXJCQSxTQUFRTyxTQUF5QixNQUFPUCxTQUFRTyxTQUFTRixFQUFHQyxHQUkxRyxRQUNJRSxTQUNJLFNBQVVDLEdBQ04zQixFQUFTMkIsR0FFYixTQUFVQyxHQUNOM0IsRUFBUzJCLEdBRWIsU0FBVUMsR0FDTjNCLEVBQVUyQixJQUVsQkMsUUFBUyxXQUNMM0IsRUFBaUIsV0FDYixRQUFTQSxHQUFjNEIsRUFBY0MsR0FDakMxQixLQUFLeUIsYUFBZUEsRUFDcEJ6QixLQUFLMEIsY0FBZ0JBLEVBQ3JCMUIsS0FBSzJCLGFBQWMsRUFDbkIzQixLQUFLNEIsZUE2Q1QsTUEzQ0EvQixHQUFjZ0MsVUFBVUQsYUFBZSxXQUNuQyxHQUFJRSxHQUFROUIsSUFDWkEsTUFBSzJCLGFBQWMsRUFDbkIzQixLQUFLeUIsYUFBYU0sV0FBV0MsVUFBVSxTQUFVQyxHQUFLLE1BQU9ILEdBQU1JLHFCQUFxQkQsSUFBTyxTQUFVRSxHQUFPLE1BQU9DLFNBQVFDLElBQUlGLE1BRXZJdEMsRUFBY2dDLFVBQVVLLHFCQUF1QixTQUFVRCxHQUNyREcsUUFBUUMsSUFBSUosR0FDWmpDLEtBQUtzQyxNQUFRTCxFQUNiakMsS0FBSzJCLGFBQWMsR0FFdkI5QixFQUFjZ0MsVUFBVVUsT0FBUyxTQUFVQyxHQUN2Q3hDLEtBQUswQixjQUFjYSxVQUV2QjFDLEVBQWNnQyxVQUFVWSxVQUFZLFNBQVVSLEdBQzFDLElBQ0ksTUFBYyxPQUFWQSxFQUFFUyxTQUVEMUMsS0FBSzBCLGNBQWNpQixZQUVqQlYsRUFBRVMsS0FBS0UsS0FBTzVDLEtBQUswQixjQUFjbUIsVUFBVUQsS0FFdEQsTUFBT0UsR0FDSCxPQUFPLEVBRVgsT0FBTyxHQUVYakQsRUFBY2dDLFVBQVVrQixXQUFhLFNBQVVkLEdBQzNDLEdBQUlILEdBQVE5QixJQUNaQSxNQUFLeUIsYUFBTHpCLFVBQXlCaUMsR0FBR0QsVUFBVSxTQUFVZ0IsR0FBVSxNQUFPbEIsR0FBTW1CLG1CQUFtQkQsSUFBWSxTQUFVRixHQUFTLE1BQU9oQixHQUFNb0Isa0JBQWtCSixNQUU1SmpELEVBQWNnQyxVQUFVb0IsbUJBQXFCLFNBQVVELEdBQ25EaEQsS0FBSzRCLGdCQUVUL0IsRUFBY2dDLFVBQVVxQixrQkFBb0IsU0FBVUosR0FDbERWLFFBQVFDLElBQUlTLElBRWhCakQsRUFBZ0JDLEdBQ1pKLEVBQU95RCxXQUNIQyxXQUFZekQsRUFBTzBELGFBQ25CQyxZQUFhLHVCQUVqQnRDLEVBQVcscUJBQXNCckIsRUFBTzBELFlBQWF6RCxFQUFRMkQsZ0JBQzlEMUQsTUFHUEwsRUFBVSxnQkFBaUJLIiwiZmlsZSI6ImNvbXBvbmVudC9ob21lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiU3lzdGVtLnJlZ2lzdGVyKFsnYW5ndWxhcjIvY29yZScsICcuLi9zZXJ2aWNlL3Bvc3QnLCAnLi4vc2VydmljZS9sb2dpbiddLCBmdW5jdGlvbihleHBvcnRzXzEsIGNvbnRleHRfMSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBfX21vZHVsZU5hbWUgPSBjb250ZXh0XzEgJiYgY29udGV4dF8xLmlkO1xuICAgIHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICAgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICAgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbiAgICB9O1xuICAgIHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG4gICAgfTtcbiAgICB2YXIgY29yZV8xLCBwb3N0XzEsIGxvZ2luXzE7XG4gICAgdmFyIEhvbWVDb21wb25lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0dGVyczpbXG4gICAgICAgICAgICBmdW5jdGlvbiAoY29yZV8xXzEpIHtcbiAgICAgICAgICAgICAgICBjb3JlXzEgPSBjb3JlXzFfMTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAocG9zdF8xXzEpIHtcbiAgICAgICAgICAgICAgICBwb3N0XzEgPSBwb3N0XzFfMTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAobG9naW5fMV8xKSB7XG4gICAgICAgICAgICAgICAgbG9naW5fMSA9IGxvZ2luXzFfMTtcbiAgICAgICAgICAgIH1dLFxuICAgICAgICBleGVjdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEhvbWVDb21wb25lbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIEhvbWVDb21wb25lbnQoX3Bvc3RTZXJ2aWNlLCBfbG9naW5TZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RTZXJ2aWNlID0gX3Bvc3RTZXJ2aWNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dpblNlcnZpY2UgPSBfbG9naW5TZXJ2aWNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZEFsbFBvc3RzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEhvbWVDb21wb25lbnQucHJvdG90eXBlLmxvYWRBbGxQb3N0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RTZXJ2aWNlLmdldFBvc3RzKCkuc3Vic2NyaWJlKGZ1bmN0aW9uIChwKSB7IHJldHVybiBfdGhpcy5vbkxvYWRBbGxQb3N0c1Jlc3VsdChwKTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gY29uc29sZS5sb2coZXJyKTsgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBIb21lQ29tcG9uZW50LnByb3RvdHlwZS5vbkxvYWRBbGxQb3N0c1Jlc3VsdCA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RzID0gcDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgSG9tZUNvbXBvbmVudC5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2luU2VydmljZS5sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIEhvbWVDb21wb25lbnQucHJvdG90eXBlLmNoZWNrUG9zdCA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocC51c2VyID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2dpblNlcnZpY2UuaXNMb2dnZWQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC51c2VyLl9pZCA9PSB0aGlzLl9sb2dpblNlcnZpY2UuZ2V0VXNlcigpLl9pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBIb21lQ29tcG9uZW50LnByb3RvdHlwZS5kZWxldGVQb3N0ID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zdFNlcnZpY2UuZGVsZXRlKHApLnN1YnNjcmliZShmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiBfdGhpcy5vbkRlbGV0ZVBvc3RSZXN1bHQocmVzdWx0KTsgfSwgZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5vbkRlbGV0ZVBvc3RFcnJvcihlcnJvcik7IH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgSG9tZUNvbXBvbmVudC5wcm90b3R5cGUub25EZWxldGVQb3N0UmVzdWx0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRBbGxQb3N0cygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgSG9tZUNvbXBvbmVudC5wcm90b3R5cGUub25EZWxldGVQb3N0RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgSG9tZUNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW3Bvc3RfMS5Qb3N0U2VydmljZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2hvbWVDb21wb25lbnQuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfSksIFxuICAgICAgICAgICAgICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFtwb3N0XzEuUG9zdFNlcnZpY2UsIGxvZ2luXzEuTG9naW5TZXJ2aWNlXSlcbiAgICAgICAgICAgICAgICBdLCBIb21lQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gSG9tZUNvbXBvbmVudDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBleHBvcnRzXzEoXCJIb21lQ29tcG9uZW50XCIsIEhvbWVDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
